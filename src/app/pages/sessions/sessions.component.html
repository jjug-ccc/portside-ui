<header>
	<div class="container">
		<div class="flexbox">
			<section class="main">
				<img src="../assets/img/logo.png"/>
			</section>
			<section class="side">
				<h1 style="">JJUG CCC 2018 Spring アンケート</h1>
			</section>
		</div>
	</div>
</header>
<div class="questionnaire">
	<div class="container">
		<p>どのセッションを聞きたいですか？当てはまるものにチェックを入れてください(7つ目安)<br>
			このアンケートは<strong>当日の座席確保を保証するものではありません</strong>。
		</p>
	</div>
</div>
<div class="container" *ngIf="loading">
	<mat-spinner></mat-spinner>
</div>
<form>
	<div class="card-group">
		<mat-card class="session-item" *ngFor="let session of sessions">
			<div class="title-header">
				<div class="flexbox">
					<section class="main">
						<mat-card-title class="title">{{ session.title }}</mat-card-title>
					</section>
					<section class="side session-checkbox">
						<mat-checkbox name="attends" value="{{ session.id }}" [checked]="attends[session.id]"
									  (change)="toggle($event)">聞きたい！
						</mat-checkbox>
					</section>
				</div>
			</div>
			<mat-card-content>
				<div class="description">
					<pre>{{ session.description }}</pre>
					<a mat-raised-button href="{{ session.url }}" target="_blank">詳細</a>
				</div>
				<div class="speakers" *ngFor="let speaker of session.speakers">
					<div class="flexbox">
						<section class="main">
							<img mat-card-avatar src="{{ speaker.profileUrl }}">
						</section>
						<section class="side">
							<mat-card-title>{{ speaker.name }}</mat-card-title>
							<mat-card-subtitle>{{ speaker.companyOrCommunity }}</mat-card-subtitle>
						</section>
					</div>
				</div>
			</mat-card-content>
		</mat-card>
	</div>
	<div class="done">
		<button mat-fab [disabled]="!canEmail">
			<mat-icon (click)="canEmail && email()">send</mat-icon>
		</button>
	</div>
</form>
